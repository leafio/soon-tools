import{b2 as L,j as S,C as T,aL as R,aS as O,e as x,v as V,x as G,z as j,aF as K,A as q,o as z,w as P,b as W,m as w,P as Y,B as H,S as C,bp as J,bq as I,br as M,bs as Q,bt as A,bu as X,bv as Z,bw as ee,h as te,O as ne,bx as oe,by as ae,av as re}from"./D-hLB43y.js";function se(e){const t=L({dir:S("ltr")});return T(()=>{var n;return(e==null?void 0:e.value)||((n=t.dir)==null?void 0:n.value)||"ltr"})}let ue=0;function Ce(e,t="reka"){const n=L({useId:void 0});return R?`${t}-${R()}`:n.useId?`${t}-${n.useId()}`:`${t}-${++ue}`}const le="rovingFocusGroup.onEntryFocus",ie={bubbles:!1,cancelable:!0},ce={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function de(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function he(e,t,n){const a=de(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(a))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(a)))return ce[a]}function fe(e,t=!1){const n=O();for(const a of e)if(a===n||(a.focus({preventScroll:t}),O()!==n))return}function we(e,t){return e.map((n,a)=>e[(t+a)%e.length])}const[Ie,ve]=V("RovingFocusGroup"),Se=x({__name:"RovingFocusGroup",props:{orientation:{default:void 0},dir:{},loop:{type:Boolean,default:!1},currentTabStopId:{},defaultCurrentTabStopId:{},preventScrollOnEntryFocus:{type:Boolean,default:!1},asChild:{type:Boolean},as:{}},emits:["entryFocus","update:currentTabStopId"],setup(e,{expose:t,emit:n}){const a=e,c=n,{loop:d,orientation:f,dir:r}=G(a),s=se(r),o=j(a,"currentTabStopId",c,{defaultValue:a.defaultCurrentTabStopId,passive:a.currentTabStopId===void 0}),l=S(!1),v=S(!1),m=S(0),{getItems:y,CollectionSlot:h}=K({isProvider:!0});function F(p){const u=!v.value;if(p.currentTarget&&p.target===p.currentTarget&&u&&!l.value){const i=new CustomEvent(le,ie);if(p.currentTarget.dispatchEvent(i),c("entryFocus",i),!i.defaultPrevented){const b=y().map(g=>g.ref).filter(g=>g.dataset.disabled!==""),N=b.find(g=>g.getAttribute("data-active")===""),U=b.find(g=>g.id===o.value),k=[N,U,...b].filter(Boolean);fe(k,a.preventScrollOnEntryFocus)}}v.value=!1}function E(){setTimeout(()=>{v.value=!1},1)}return t({getItems:y}),ve({loop:d,dir:s,orientation:f,currentTabStopId:o,onItemFocus:p=>{o.value=p},onItemShiftTab:()=>{l.value=!0},onFocusableItemAdd:()=>{m.value++},onFocusableItemRemove:()=>{m.value--}}),(p,u)=>(z(),q(w(h),null,{default:P(()=>[W(w(Y),{tabindex:l.value||m.value===0?-1:0,"data-orientation":w(f),as:p.as,"as-child":p.asChild,dir:w(s),style:{outline:"none"},onMousedown:u[0]||(u[0]=i=>v.value=!0),onMouseup:E,onFocus:F,onBlur:u[1]||(u[1]=i=>l.value=!1)},{default:P(()=>[H(p.$slots,"default")]),_:3},8,["tabindex","data-orientation","as","as-child","dir"])]),_:3}))}});function Te(e={}){const{inheritAttrs:t=!0}=e,n=C(),a=x({setup(d,{slots:f}){return()=>{n.value=f.default}}}),c=x({inheritAttrs:t,props:e.props,setup(d,{attrs:f,slots:r}){return()=>{var s;n.value;const o=(s=n.value)==null?void 0:s.call(n,{...e.props==null?pe(f):d,$slots:r});return t&&(o==null?void 0:o.length)===1?o[0]:o}}});return ee({define:a,reuse:c},[a,c])}function pe(e){const t={};for(const n in e)t[oe(n)]=e[n];return t}const me=M?window:void 0,$=M?window.navigator:void 0;function be(e){var t;const n=I(e);return(t=n==null?void 0:n.$el)!=null?t:n}function B(...e){const t=[],n=()=>{t.forEach(r=>r()),t.length=0},a=(r,s,o,l)=>(r.addEventListener(s,o,l),()=>r.removeEventListener(s,o,l)),c=T(()=>{const r=A(I(e[0])).filter(s=>s!=null);return r.every(s=>typeof s!="string")?r:void 0}),d=X(()=>{var r,s;return[(s=(r=c.value)==null?void 0:r.map(o=>be(o)))!=null?s:[me].filter(o=>o!=null),A(I(c.value?e[1]:e[0])),A(w(c.value?e[2]:e[1])),I(c.value?e[3]:e[2])]},([r,s,o,l])=>{if(n(),!(r!=null&&r.length)||!(s!=null&&s.length)||!(o!=null&&o.length))return;const v=ae(l)?{...l}:l;t.push(...r.flatMap(m=>s.flatMap(y=>o.map(h=>a(m,y,h,v)))))},{flush:"post"}),f=()=>{d(),n()};return Z(n),f}function ge(){const e=C(!1),t=ne();return t&&te(()=>{e.value=!0},t),e}function D(e){const t=ge();return T(()=>(t.value,!!e()))}function _(e,t={}){const{controls:n=!1,navigator:a=$}=t,c=D(()=>a&&"permissions"in a),d=C(),f=typeof e=="string"?{name:e}:e,r=C(),s=()=>{var l,v;r.value=(v=(l=d.value)==null?void 0:l.state)!=null?v:"prompt"};B(d,"change",s,{passive:!0});const o=Q(async()=>{if(c.value){if(!d.value)try{d.value=await a.permissions.query(f)}catch{d.value=void 0}finally{s()}if(n)return re(d.value)}});return o(),n?{state:r,isSupported:c,query:o}:r}function Fe(e={}){const{navigator:t=$,read:n=!1,source:a,copiedDuring:c=1500,legacy:d=!1}=e,f=D(()=>t&&"clipboard"in t),r=_("clipboard-read"),s=_("clipboard-write"),o=T(()=>f.value||d),l=C(""),v=C(!1),m=J(()=>v.value=!1,c,{immediate:!1});async function y(){let u=!(f.value&&p(r.value));if(!u)try{l.value=await t.clipboard.readText()}catch{u=!0}u&&(l.value=E())}o.value&&n&&B(["copy","cut"],y,{passive:!0});async function h(u=I(a)){if(o.value&&u!=null){let i=!(f.value&&p(s.value));if(!i)try{await t.clipboard.writeText(u)}catch{i=!0}i&&F(u),l.value=u,v.value=!0,m.start()}}function F(u){const i=document.createElement("textarea");i.value=u??"",i.style.position="absolute",i.style.opacity="0",document.body.appendChild(i),i.select(),document.execCommand("copy"),i.remove()}function E(){var u,i,b;return(b=(i=(u=document==null?void 0:document.getSelection)==null?void 0:u.call(document))==null?void 0:i.toString())!=null?b:""}function p(u){return u==="granted"||u==="prompt"}return{isSupported:o,text:l,copied:v,copy:h}}export{Se as _,se as a,Ce as b,Te as c,fe as f,he as g,Ie as i,Fe as u,we as w};
